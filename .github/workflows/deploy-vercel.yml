# Deploy to Vercel on every push to main.
# Uses a Vercel Deploy Hook (simplest for static sites).
#
# One-time setup:
# 1. In Vercel: import this repo (Add New → Project → V4Vinnie/sandaya) and deploy.
# 2. In Vercel: Project → Settings → Git → Deploy Hooks → Create Hook (e.g. "GitHub Actions") → copy the URL.
# 3. In GitHub: Repo → Settings → Secrets and variables → Actions → New secret: name = VERCEL_DEPLOY_HOOK_URL, value = the hook URL.

name: Deploy to Vercel

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Vercel deploy
        run: |
          if [ -z "$VERCEL_DEPLOY_HOOK_URL" ]; then
            echo "::error::Add secret VERCEL_DEPLOY_HOOK_URL (Vercel project → Settings → Git → Deploy Hooks)"
            exit 1
          fi
          curl -f -X POST "$VERCEL_DEPLOY_HOOK_URL"
        env:
          VERCEL_DEPLOY_HOOK_URL: ${{ secrets.VERCEL_DEPLOY_HOOK_URL }}
